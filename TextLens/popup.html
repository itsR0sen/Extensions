<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>TextLens â€“ Magnify Text from Images</title>
        <!-- Bootstrap CSS CDN -->
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
            rel="stylesheet"
        />
        <!-- Bootstrap Icons CDN -->
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
            rel="stylesheet"
        />
        <link rel="stylesheet" href="popup.css" />
    </head>
    <body>
        <div
            class="container py-3"
            style="
                width: 360px;
                font-family: 'Segoe UI', Roboto, system-ui, sans-serif;
            "
        >
            <!-- Header -->
            <div class="d-flex justify-content-between align-items-center mb-3">
                <h5 class="mb-0 fw-bold">TextLens</h5>
                <div>
                    <button
                        id="lockToggle"
                        class="btn btn-outline-secondary btn-sm me-2"
                        title="Lock/Unlock Popup"
                    >
                        <i class="bi bi-unlock-fill"></i>
                    </button>
                    <button
                        id="darkModeToggle"
                        class="btn btn-outline-secondary btn-sm"
                        title="Toggle Dark Mode"
                    >
                        <i class="bi bi-moon-fill"></i>
                    </button>
                </div>
            </div>
            <p class="text-muted mb-3" style="font-size: 0.9rem">
                Extract and magnify text from images
            </p>

            <!-- Drop & click area -->
            <div
                id="drop-area"
                class="border border-secondary rounded p-3 text-center mb-3"
            >
                <i
                    class="bi bi-image"
                    style="font-size: 2rem; color: #6c757d"
                ></i>
                <p class="mt-2 mb-2">
                    Click, drag & drop, or press Ctrl+V to paste screenshot
                </p>
                <input
                    type="file"
                    id="fileElem"
                    accept="image/*"
                    style="display: none"
                />
            </div>

            <!-- Image preview + New Image button -->
            <div id="image-container" class="text-center d-none mb-3">
                <img
                    id="preview"
                    src=""
                    alt=""
                    class="img-fluid rounded mb-2"
                />
                <div>
                    <button
                        id="newImageBtn"
                        class="btn btn-outline-secondary btn-sm"
                    >
                        New Image
                    </button>
                </div>
            </div>

            <!-- Extracted text (hidden by default) -->
            <div id="text-container" class="d-none">
                <h6 class="mb-1">Extracted Text:</h6>
                <pre
                    id="output"
                    class="border p-2 rounded"
                    style="
                        height: 160px;
                        overflow-y: auto;
                        background-color: #f8f9fa;
                        font-family: 'Courier New', monospace;
                        font-size: 0.9rem;
                    "
                ></pre>
                <button
                    id="copyBtn"
                    class="btn btn-outline-success btn-sm mt-2 w-100"
                >
                    <i class="bi bi-clipboard"></i> Copy Text
                </button>
            </div>
        </div>

        <script src="popup.js"></script>
    </body>
</html>
